<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a routerLink="/">Home</a></li>
    <li class="breadcrumb-item">
      <a routerLink="/contact-dashboard">Contacts</a>
    </li>
    <li class="breadcrumb-item active">Add New Contact</li>
  </ol>
</nav>

<div class="row">
  <div class="col-xs-12 col-md-3">
    <div>
      <a [routerLink]="returnUrl" class="btn btn-outline-primary btn-block"
        ><i class="fa fa-chevron-left mr-2"></i> Back to
        {{ mode === "update" ? "Details" : "All Contacts" }}</a
      >
    </div>

    <hr class="my-3" />
  </div>

  <div class="col-xs-12 col-md-9 mb-3">
    <div class="card">
      <div class="card-body">
        <p *ngIf="mode === 'create'" class="alert alert-info">
          <i class="fa fa-info mr-2"></i>
          This form is pre-populated with dummy data.
        </p>

        <form #contactForm="ngForm" (submit)="onSubmit(contactForm)">
          <!-- Name -->
          <div class="form-group">
            <label for="name">Name</label>
            <input
              #name="ngModel"
              [(ngModel)]="contactData.name"
              [ngClass]="{
                'is-invalid': (name.touched || name.dirty) && name.errors
              }"
              [ngStyle]="{
                cursor: pending ? 'not-allowed' : 'auto'
              }"
              [disabled]="pending || saving"
              name="name"
              id="name"
              type="text"
              class="form-control"
              required
              minlength="2"
              maxlength="100"
            />

            <div [hidden]="!name.errors?.required" class="invalid-feedback">
              Name is required
            </div>
            <div [hidden]="!name.errors?.minlength" class="invalid-feedback">
              Name must be at least 2 characters
            </div>
            <div [hidden]="!name.errors?.maxlength" class="invalid-feedback">
              Name must be less than 100 characters
            </div>
          </div>

          <!-- Email -->
          <div class="form-group">
            <label for="email">Email</label>
            <input
              #email="ngModel"
              [(ngModel)]="contactData.email"
              [ngClass]="{
                'is-invalid': (email.touched || email.dirty) && email.errors
              }"
              [ngStyle]="{
                cursor: pending ? 'not-allowed' : 'auto'
              }"
              [disabled]="pending || saving"
              name="email"
              id="email"
              type="email"
              class="form-control"
              required
              minlength="5"
              maxlength="100"
            />

            <div [hidden]="!email.errors?.required" class="invalid-feedback">
              Email is required
            </div>
            <div [hidden]="!email.errors?.minlength" class="invalid-feedback">
              Email must be at least 2 characters
            </div>
            <div [hidden]="!email.errors?.maxlength" class="invalid-feedback">
              Email must be less than 100 characters
            </div>
          </div>

          <!-- Phone -->
          <div class="form-group">
            <label for="phone">Phone</label>
            <input
              #phone="ngModel"
              [(ngModel)]="contactData.phone"
              [ngClass]="{
                'is-invalid': (phone.touched || phone.dirty) && phone.errors
              }"
              [ngStyle]="{
                cursor: pending ? 'not-allowed' : 'auto'
              }"
              [disabled]="pending || saving"
              name="phone"
              id="phone"
              type="tel"
              class="form-control"
              required
              minlength="3"
              maxlength="25"
            />

            <div [hidden]="!phone.errors?.required" class="invalid-feedback">
              Phone is required
            </div>
            <div [hidden]="!phone.errors?.minlength" class="invalid-feedback">
              Phone must be at least 3 characters
            </div>
            <div [hidden]="!phone.errors?.maxlength" class="invalid-feedback">
              Phone must be less than 25 characters
            </div>
          </div>

          <!-- Company -->
          <div class="form-group">
            <label for="company">Company</label>
            <input
              #company="ngModel"
              [(ngModel)]="contactData.company"
              [ngClass]="{
                'is-invalid':
                  (company.touched || company.dirty) && company.errors
              }"
              [ngStyle]="{
                cursor: pending ? 'not-allowed' : 'auto'
              }"
              [disabled]="pending || saving"
              name="company"
              id="company"
              type="text"
              class="form-control"
              required
              minlength="3"
              maxlength="100"
            />

            <div [hidden]="!company.errors?.required" class="invalid-feedback">
              Company is required
            </div>
            <div [hidden]="!company.errors?.minlength" class="invalid-feedback">
              Company must be at least 3 characters
            </div>
            <div [hidden]="!company.errors?.maxlength" class="invalid-feedback">
              Company must be less than 100 characters
            </div>
          </div>

          <!-- Address -->
          <div class="form-group">
            <label for="address">Address</label>
            <input
              #address="ngModel"
              [(ngModel)]="contactData.address"
              [ngClass]="{
                'is-invalid':
                  (address.touched || address.dirty) && address.errors
              }"
              [ngStyle]="{
                cursor: pending ? 'not-allowed' : 'auto'
              }"
              [disabled]="pending || saving"
              name="address"
              id="address"
              type="text"
              class="form-control"
              required
              minlength="3"
              maxlength="100"
            />

            <div [hidden]="!address.errors?.required" class="invalid-feedback">
              Address is required
            </div>
            <div [hidden]="!address.errors?.minlength" class="invalid-feedback">
              Address must be at least 3 characters
            </div>
            <div [hidden]="!address.errors?.maxlength" class="invalid-feedback">
              Address must be less than 100 characters
            </div>
          </div>

          <!-- Website -->
          <div class="form-group">
            <label for="website">Website</label>
            <input
              #website="ngModel"
              [(ngModel)]="contactData.website"
              [ngClass]="{
                'is-invalid':
                  (website.touched || website.dirty) && website.errors
              }"
              [ngStyle]="{
                cursor: pending ? 'not-allowed' : 'auto'
              }"
              [disabled]="pending || saving"
              name="website"
              id="website"
              type="url"
              class="form-control"
              required
              minlength="3"
              maxlength="100"
            />

            <div [hidden]="!website.errors?.required" class="invalid-feedback">
              Website is required
            </div>
            <div [hidden]="!website.errors?.minlength" class="invalid-feedback">
              Website must be at least 3 characters
            </div>
            <div [hidden]="!website.errors?.maxlength" class="invalid-feedback">
              Website must be less than 100 characters
            </div>
          </div>

          <!-- Submit Button -->
          <button
            type="submit"
            class="btn btn-success btn-block"
            [disabled]="contactForm.invalid || pending"
            [ngStyle]="{
              cursor: pending ? 'not-allowed' : 'pointer'
            }"
          >
            <span
              *ngIf="saving"
              class="spinner-border spinner-border-sm mr-2"
            ></span>
            <i *ngIf="!saving" class="fa fa-floppy-o mr-2"></i>
            {{ saving ? "Saving..." : "Save Contact" }}
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
